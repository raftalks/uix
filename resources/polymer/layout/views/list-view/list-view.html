<dom-module id="list-view">

    <template>
        <style>
            :host {
                display: block;
            }

            paper-scroll-header-panel {
                height: 100%;
            }

            paper-scroll-header-panel paper-toolbar {
                background-image: url('/vendor/raftalks/uix/images/modern_material.jpg');
                background-position:25% 75%;
                background-attachment: fixed;
            }

            paper-drawer-panel {
                top: auto !important;
            }

            .list-container {
                position: relative;
                overflow: hidden;
                display: flex;
                flex-direction: column;
            }

            .list-panel {
                --paper-scroll-header-container: {
                    border-right: 1px solid #ccc;
                };
            }

            .list-panel paper-toolbar .title {
                margin-left:0px;
            }


            .list {
                padding: 0;
            }

            .list paper-item{
                height: 80px !important;
                border-bottom: 1px solid #dedede !important;
                background-color: #fafafa !important;
            }

            .list-view-container {
                display: flex;
                flex-direction: column;
                padding: 8px;
            }


            paper-button.custom {
                --paper-button-ink-color: var(--paper-pink-a200);
                /* These could also be individually defined for each of the
                  specific css classes, but we'll just do it once as an example */
                --paper-button-flat-keyboard-focus: {
                    background-color: var(--paper-pink-a200);
                    color: white !important;
                };
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--paper-pink-a200) !important;
                    color: white !important;
                };
            }
            paper-button.custom:hover {
                background-color: var(--paper-indigo-100);
            }

            paper-button.red {
                background-color: var(--paper-red-500);
                color: white;
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--paper-red-a200) !important;
                    color: white !important;
                };
            }

            paper-button.pink {
                color: var(--paper-pink-a200);
            }
            paper-button.indigo {
                background-color: var(--paper-indigo-500);
                color: white;
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--paper-pink-a200) !important;
                    color: white !important;
                };
            }
            paper-button.green {
                background-color: var(--paper-green-500);
                color: white;
            }
            paper-button.green[active] {
                background-color: var(--paper-red-500);
            }
            paper-button.disabled {
                color: white;
            }

            paper-fab.bottom-right{
                position: absolute;
                bottom: 16px;
                right: 16px;
            }
        </style>

        <iron-media-query query="(min-width: 1024px)" query-matches="{{largeScreen}}"></iron-media-query>
        <iron-media-query query="(min-width: 1280px)" query-matches="{{largeDesktopScreen}}"></iron-media-query>

            <paper-drawer-panel right-drawer id="drawerLayout" responsive-width="1024px" drawer-toggle-attribute="list-toggle">
                <div main class="list-container">
                    <paper-scroll-header-panel main class="list-panel" fixed="{{largeDesktopScreen}}" condenses="1" condensed-header-height="64">

                        <paper-toolbar class="medium-tall">
                            <div hidden$="[[!title]]" class="bottom title">[[ title ]]</div>
                        </paper-toolbar>

                        <paper-menu class="list" on-iron-activate="_listTap">

                            <template is="dom-repeat" items="{{items}}">
                                <paper-item class="list-item">{{ item.label }}</paper-item>
                            </template>

                        </paper-menu>

                    </paper-scroll-header-panel>

                    <paper-fab icon="add" class="bottom-right" elevation="1"></paper-fab>
                </div>

                <paper-scroll-header-panel drawer fixed="{{largeDesktopScreen}}" condenses="1" condensed-header-height="64">
                    <paper-toolbar class="medium-tall">
                        <paper-icon-button icon="arrow-back" list-toggle hidden$="{{largeScreen}}"></paper-icon-button>
                    </paper-toolbar>
                    <div class="list-view-container">
                        <template is='dom-if' if="{{ itemSelected }}">
                            <h2>Item selected</h2>
                        </template>
                        <template is='dom-if' if="{{ ! itemSelected }}">
                            <h2>No item selected</h2>
                        </template>
                    </div>
                </paper-scroll-header-panel>
            </paper-drawer-panel>

    </template>

    <script>
        Polymer({
            is: 'list-view',

            properties: {
                title : String,
                largeScreen: {
                    type: Boolean,
                    value: false,
                    observer: 'onScreenSizeChange'

                },
                items : Array
            },


            ready: function()
            {
                this.itemSelected = false;
            },

            onScreenSizeChange : function(isLargeScreen)
            {

                var drawer = this.$.drawerLayout;

                if(isLargeScreen)
                {
                    drawer.setAttribute('drawer-width', '60%');
                }
                else
                {
                    drawer.setAttribute('drawer-width', '100%');
                }
            },

            _listTap : function() {
                this.itemSelected = true;
                this.$.drawerLayout.openDrawer();
            }

        });
    </script>

</dom-module>